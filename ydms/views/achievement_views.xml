<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <!-- Form view-->
        <record id="view_ydms_achievement_form" model="ir.ui.view">
            <field name="name">liy.ydms.achievement.form</field>
            <field name="model">liy.ydms.achievement</field>
            <field name="arch" type="xml">
                <form>
                    <sheet>
                        <group>
                            <field name="teenager_id"/>
                            <field name="nickname" readonly="1"/>
                            <field name="area_of_expertise"/>
                        </group>
                        <group>
                            <field name="badge_id"/>
                            <field name="badge_image" widget="image" class="oe_avatar" readonly="1"/>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>
        <!-- List view -->
        <record id="view_ydms_my_achievement_tree" model="ir.ui.view">
            <field name="name">liy.ydms.achievement.tree</field>
            <field name="model">liy.ydms.achievement</field>
            <field name="arch" type="xml">
                <list>
                    <field name="badge_image" widget="image" string="Hình ảnh"/>
                    <field name="badge_id" string="Huy hiệu đạt được"/>
                    <field name="teenager_id"/>
                    <field name="nickname" string="Biệt danh"/>
                    <field name="area_of_expertise" string="Khía cạnh"/>
                </list>
            </field>
        </record>
        <!-- Action -->
        <record id="action_ydms_achievement_persional" model="ir.actions.act_window">
            <field name="name">Thành tích của tôi</field>
            <field name="res_model">liy.ydms.achievement</field>
            <field name="view_mode">list</field>
            <field name="view_ids"
                   eval="[(5, 0, 0),
                          (0, 0, {'view_mode': 'list', 'view_id': ref('view_ydms_my_achievement_tree')}),
                          (0, 0, {'view_mode': 'form', 'view_id': ref('view_ydms_achievement_form')})]"/>
            <field name="domain">[('teenager_id','=',uid)]</field>
        </record>
        <record id="action_ydms_achievement_family" model="ir.actions.act_window">
            <field name="name">Thành tích</field>
            <field name="res_model">liy.ydms.achievement</field>
            <field name="view_mode">list</field>
            <field name="view_ids"
                   eval="[(5, 0, 0),
                          (0, 0, {'view_mode': 'list', 'view_id': ref('view_ydms_my_achievement_tree')}),
                          (0, 0, {'view_mode': 'form', 'view_id': ref('view_ydms_achievement_form')})]"/>
            <field name="domain">['|', ('parent_id', '=', uid), ('teenager_id', '=', uid)]</field>
        </record>
        <!-- Menu item-->
        <menuitem name="Thành tích" id="achievement_personal_menu" parent="ydms_personal_menu"
                  action="action_ydms_achievement_persional" sequence="20"/>
        <menuitem name="Thành tích" id="achievement_family_menu" parent="ydms_family_menu"
                  action="action_ydms_achievement_family" sequence="10"/>
    </data>
</odoo>
